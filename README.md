# 電話(リアルタイムチャット)-Client側テスト用プログラム
## 最終目標
Rubyサーバを経由したリアルタイム通話のモバイルアプリ作成 by Swift3

## 方針
#### 1.ソケット通信(リアルタイム性を重視するため)
#### 2.JSON使用(音声だけでなく発信者や日付など多数のデータをやりとりしたい)

## (とりあえずの)目標
* まずはチャット的なものから
* Connectボタンでサーバと接続
* Sendボタンでテキストボックス内のテキストを送信
* Endボタンで切断

## 進捗と現状
* pythonのローカルサーバ
* TCP-socketでのconnect可能
* connect後、ReceiveとSendを並行させるためマルチスレッド使用
* 双方向でのテキスト交換可能
* 送受信のテキスト表示可能

## 課題と不明点
* UI部分の改良(ログがスクロールできない & キーボードでTextField隠れちゃう)
* 受信Bytesの読み取りの改良(微量Byteの読み取りをループさせる)
* テキスト以外も通信可能にしたい(JSON?)
* 音声ならUDPソケットの方が良いか
* コードをViewControllerに書いてるけど、Model部分に分離したい

## メモ
* Socket.IO-Client-Swiftでも可能だが、厳密にはソケット通信じゃない?
* Socket.IOはNode.js使うのでRubyでのサーバ構築がキツイ?
* Socket通信にはSwiftSocketというpod使用
* UI部分の更新はメインスレッドで行わなくてはならない
* スレッドは.asyncで非同期指定
